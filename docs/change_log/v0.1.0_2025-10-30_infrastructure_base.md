# Changelog v0.1.0 - 2025-10-30 - Infrastructure de base

**Version:** 0.1.0  
**Date:** 2025-10-30  
**Scope:** Workflow 1 - Infrastructure de base  
**Type:** Spécifications initiales

## Composants affectés
- Module Cache Local (`internal/data/binance/cache.go`)
- Module Téléchargeur (`internal/data/binance/downloader.go`) 
- Module Streaming (`internal/data/binance/streaming.go`)

## Changements apportés

### ✨ Nouveau - Module Cache Local
**Fonctions spécifiées:**
- `InitializeCache(rootPath string) (*CacheManager, error)`
- `FileExists(symbol, dataType, date string, timeframe ...string) bool`
- `GetFilePath(symbol, dataType, date string, timeframe ...string) string`
- `UpdateIndex(fileInfo FileMetadata) error`
- `IsFileCorrupted(filePath string) (bool, error)`

**Logique métier:**
- Structure hiérarchique `data/binance/futures_um/klines/SYMBOL/TIMEFRAME/` et `data/binance/futures_um/trades/SYMBOL/`
- Index JSON des métadonnées fichiers
- Validation intégrité avec checksums SHA256
- Thread-safety avec mutex RW

### ✨ Nouveau - Module Téléchargeur
**Fonctions spécifiées:**
- `NewDownloader(config DownloaderConfig) *Downloader`
- `DownloadFile(url, localPath string) error`
- `ResumeDownload(url, localPath string, offset int64) error`
- `ValidateChecksum(filePath, expectedChecksum string) bool`
- `GetFileSize(url string) (int64, error)`

**Logique métier:**
- HTTP ranges pour reprises d'interruption
- Retry exponentiel configurable (1s, 2s, 4s, 8s...)
- Support URLs Binance Data Vision
- Progress tracking temps réel

### ✨ Nouveau - Module Streaming
**Fonctions spécifiées:**
- `NewZipStreamReader(filePath string) (*ZipStreamReader, error)`
- `NextEntry() (*StreamEntry, error)`
- `ReadLine() ([]byte, error)`
- `HasNext() bool`
- `Close() error`

**Logique métier:**
- Décompression ZIP streaming sans full-load mémoire
- Interface iterator pour parcours séquentiel
- Buffer glissant < 100MB contrainte
- Gestion propre des ressources

## Configuration introduite
```yaml
binance_data:
  cache_root: "data/binance"
  base_url: "https://data.binance.vision"
  http_timeout: 30s
  max_parallel_downloads: 5
  retry_attempts: 3
  checksum_validation: true
```

## Tests documentés
- 15+ scénarios de test pour module cache
- 12+ scénarios de test pour téléchargeur
- 10+ scénarios de test pour streaming
- Tests de performance et robustesse

## Métriques de performance cibles
- Cache: vérification < 1ms via index mémoire
- Téléchargeur: > 10 MB/s vitesse minimale
- Streaming: > 50 MB/s débit lecture ZIP

## Impact
- **Nouveau:** Infrastructure complète de gestion données
- **Performance:** Optimisations cache et streaming
- **Robustesse:** Gestion erreurs et reprises
- **Maintenabilité:** Architecture modulaire < 500 lignes/fichier

## Prochaines étapes
- Validation spécifications utilisateur
- Implémentation fonctions cache en premier
- Tests unitaires avec couverture > 90%
- Intégration avec Workflow 2 (Pipeline données)

---
*Spécifications techniques - Prêt pour implémentation*
